<?xml version="1.0" encoding="BIG5" ?> 
<project  basedir="."> 
	<!--
	<property name="javaPath" value="D:\Program Files\Java\jdk1.7.0_02\bin" />
	<property name="keystore" value="D:\TWM\workspaces\tamadgb\TryCAP\nccweb.keystore" />
	<property name="DirPath" value="D:\TWM\workspaces\tamadgb\TryCAP" />
	-->
	<property name="keystore" value="UatAP2KeyStore.jks" />
	<property name="storepass" value="crsmgmt" />
    
	<!--名字與姓氏 -->
	<property name="commonName" value="web.crsuat.taiwanmobile.com" />
	<!-- 編制單位名稱 -->
	<property name="organizationUnit" value="ProductTechnology" />
	<!--組織名稱 -->
	<property name="organizationName" value="Taiwan Mobile Co. Ltd." />
	<!--所在的城市或地區名稱 -->
	<property name="localityName" value="Taipei" />
	<!--所在的州及省份名稱 -->
	<property name="stateName" value="Taiwan" />
	<!--該單位的二字國碼 -->
	<property name="country" value="TW" />
	<property name="dname" value="CN=${commonName}, OU=${organizationUnit}, O=${organizationName}, L=${localityName}, ST=${stateName}, C=${country}" />

	<!--建立空白KeyStore -->
	<target name="genKeyStore" description="new SSL KeyStore ">  
		<!--<exec  dir="${javaPath}" executable="keytool"> -->
		<exec executable="keytool"> 
			<arg line=" -genkey" />
			<arg line=" -dname '${dname}'" />
			<arg line=" -keyalg rsa" />
			<arg line=" -keysize 2048" />
			<arg line=" -sigalg SHA256withRSA" /> 
			<arg line=" -keystore ${keystore}" />
			<arg line=" -alias entitle" />
			<arg line=" -storepass ${storepass}" />
			<arg line=" -keypass ${storepass}" />
			<arg line=" -validity 36500" /> 
		</exec> 
	</target>  
 
	<!-- 匯入憑證   -->
	<target name="import" description="import Certificate"> 
		<!--<exec  dir="${javaPath}" executable="keytool"> -->
		<exec dir="${javaPath}" executable="keytool"> 
			<arg line=" -import" />
			<arg line=" -alias entitlement " />
			<arg line=" -keystore ${keystore} "  />
			<arg line=" -file ${DirPath}\entitlement.crt " />
			<arg line=" -storepass ${storepass} " />
			<arg line=" -keypass ${storepass} " />  
			<arg line=" -noprompt " /> 
		</exec>  
	</target>
	
	<!-- 檢視KeyStore    -->
	<target name="list" description="list keyStore "> 
		<!--<exec  dir="${javaPath}" executable="keytool"> -->
		<exec executable="keytool">
			<arg line=" -list " />
			<arg line=" -v " />
			<arg line=" -keystore ${keystore} "  /> 
			<arg line=" -storepass ${storepass} " />
			<arg line=" -keypass ${storepass} " />  
		</exec>  
	</target> 	 
	
	<!-- 檢視export    -->
	<target name="export" description="export keyStore ">
		<!--<exec  dir="${javaPath}" executable="keytool"> -->
		<exec  dir="${javaPath}" executable="keytool"> 
			<arg line=" -export " />
			<arg line=" -alias genio " />
			<arg line=" -file ${DirPath}\Genio.cert "  /> 
			<arg line=" -keystore ${keystore} "  />  
			<arg line=" -storepass ${storepass} " />
			<arg line=" -keypass ${storepass} " />  
		</exec>  
	</target> 	
	
</project>
